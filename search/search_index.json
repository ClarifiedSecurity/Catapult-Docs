{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Enter the Catapult","text":"<p>This is the documentation for the Catapult project. It and the documentation is a work in progress and gets dynamically updated as the project evolves.</p> <p>Check the left sidebar for already existing the documentation.</p> <p>&lt;---------------</p>"},{"location":"catapult/01-installation/","title":"Installation","text":"<p>Catapult can run in <code>Linux</code>, <code>Windows (WSL)</code> or <code>MacOS</code>. Recommended host OS is Ubuntu 22.04 LTS.</p>"},{"location":"catapult/01-installation/#prerequisites","title":"Prerequisites","text":""},{"location":"catapult/01-installation/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code>sudo apt update &amp;&amp; \\\nsudo apt install git make jq curl sudo -y\n</code></pre>"},{"location":"catapult/01-installation/#arch","title":"Arch","text":"<pre><code>sudo pacman -S git make curl sudo jq\n</code></pre>"},{"location":"catapult/01-installation/#windows-subsystem-for-linux","title":"Windows Subsystem for Linux","text":"<p>Log in interactively (over RDP or locally) to your Windows machine with an account that has admin rights and run the following commands in PowerShell. The first login needs to be with an admin account because the WSL installation needs to be done with admin rights. After the first installation you can use a non-admin account to log in.</p> <pre><code>Enable-WindowsOptionalFeature -FeatureName Microsoft-Windows-Subsystem-Linux -Online -NoRestart\nwsl --install\n</code></pre> <ul> <li>Restart Windows</li> <li>If your user account IS in the Administrators just log in, start Ubuntu from the start menu and follow the instructions to finalize the setup.</li> <li>If your user account IS NOT in the Administrators group you need to run the following commands in non-admin PowerShell after your login:</li> </ul> <pre><code>wsl --update\nwsl --install -d Ubuntu\n</code></pre> <ul> <li> <p>After that follow the instructions to finalize the setup.</p> </li> <li> <p>When your Ubuntu shell is ready. Run the following commands to install the needed dependencies:</p> </li> </ul> <pre><code>sudo apt update &amp;&amp; \\\nsudo apt install git make jq curl sudo keychain -y\n</code></pre> <ul> <li>Make sure all needed SSH keypairs are in <code>~/.ssh</code> folder in the WSL Ubuntu and ssh-agent is started. For easy-to-use SSH Agent you can follow this guide. You can use this method to add multiple keys to the SSH Agent.</li> </ul> <p>When WSL is configured successfully then I'll show up in Windows Explorer as a network drive. You can use it to copy files between your host and the WSL system. On Windows we suggest using VSCode with the Remote - WSL extension to edit the files in WSL and Windows Terminal for easy connection to WSL.</p>"},{"location":"catapult/01-installation/#macos","title":"MacOS","text":"<ul> <li>Install brew and after installing brew make sure to add it to path with the commands it provides.</li> </ul> <pre><code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"\n</code></pre> <ul> <li>Install required packaes with brew:</li> </ul> <pre><code>brew install git make jq curl\n</code></pre>"},{"location":"catapult/01-installation/#install","title":"Install","text":"<ul> <li>Make sure you have a working KeePass database with a key file. Catapult will not work without the KeePass key file so make sure your database is configured to use one.</li> <li>Make sure all of the SSH keypairs you need are loaded ssh-agent, because Catapult will use them to connect to the VMs.</li> <li>Clone the project from GitHub with:</li> </ul> <pre><code>git clone https://github.com/ClarifiedSecurity/catapult\ncd catapult\n</code></pre> <ul> <li>Create your own variables file based on the example but don't delete the example:</li> </ul> <pre><code>cp .makerc-vars.example .makerc-vars\n</code></pre> <ul> <li> <p>Fill out all of the required vars in <code>.makerc-vars</code>, To avoid any syntax errors don't leave a space after the <code>:=</code> sign. Read the comments for each variable for more information. All of the <code>KEEPASS_*</code> variables are case sensitive.</p> </li> <li> <p>Install all of the required dependencies for your host with:</p> </li> </ul> <pre><code>make prepare\n</code></pre> <ul> <li>Start the Catapult container and connect to it with:</li> </ul> <pre><code>make start\n</code></pre> <ul> <li>Connect to an already started Catapult container with:</li> </ul> <pre><code>make shell\n</code></pre>"},{"location":"catapult/01-installation/#caveats","title":"Caveats","text":"<p>If you are using a Linux VM with a user ID that is not 1000 (you can check it with the <code>id</code> command) you need to build the Catapult Docker image yourself with the <code>make build</code> command.</p>"},{"location":"catapult/02-how-to-use/","title":"How to use","text":"<p>Once inside the Catapult container you can type <code>ctp-</code> and use the tab key to see all of the available commands, here is also list of all commands with examples:</p>"},{"location":"catapult/02-how-to-use/#general-commands","title":"General commands","text":"<ul> <li>Installs all Ansible roles, collections and Python dependencies (useful for development)</li> </ul> <pre><code>ctp-install-all-requirements\n</code></pre> <ul> <li>Installs only Ansible roles &amp; collections from files that are NOT named requirements.yml under /srv/requirements folder (useful for development).</li> </ul> <pre><code>ctp-install-custom-requirements\n</code></pre> <ul> <li>Lists all available projects under /srv/inventories and allows you to select one</li> </ul> <pre><code>ctp-select-project\n</code></pre>"},{"location":"catapult/02-how-to-use/#deploy-commands","title":"Deploy commands","text":"<p>Examples for the deploy commands are done with one machine but you can use the same commands with multiple machines by using the <code>all</code> keyword or a group_var. Use Ansible's documentation for Advanced deploy patterns</p>"},{"location":"catapult/02-how-to-use/#ctp-deploy","title":"ctp-deploy","text":"<p>Run the full playbook and creates the VM if it doesn't exist</p> <p>Example usage:</p> <ul> <li>Deploys the VM with the given inventory_hostname</li> </ul> <pre><code>ctp-deploy &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-redeploy","title":"ctp-redeploy","text":"<p>Destroys the existing VM and runs the the <code>ctp-deploy</code> command</p> <p>Example usage:</p> <ul> <li>Redeploys the VM with the given inventory_hostname</li> </ul> <pre><code>ctp-redeploy &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-redeploy-until-configuration","title":"ctp-redeploy-until-configuration","text":"<p>Redeploys the machine, stops the play after os_configuration role and creates a snapshot. This is a useful command if you want to create a snapshot of the VM after the OS is installed and configured. You can then use the snapshot to speed up the deployment/development process. You can deploy multiple machines that depend on each other in parallel and use the <code>ctp-deploy-from-configuration</code> to configure them in the correct order afterwards.</p> <p>Example usage:</p> <ul> <li>Redeploys the VM with the given inventory_hostname and creates a snapshot</li> </ul> <pre><code>ctp-deploy-until-configuration &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-deploy-from-configuration","title":"ctp-deploy-from-configuration","text":"<p>Starts the play from /srv//pre_vm_role part of the playbook and runs until the end. This is a useful command during mass deploy when you have run the <code>ctp-deploy-until-configuration</code> first and then you want to configure the cloned machines. Should anything go wrong you can always revert to the snapshot and start again. <p>Example usage:</p> <ul> <li>Starts configuring the VM with the given inventory_hostname from the pre_vm_role.</li> </ul> <pre><code>ctp-deploy-from-configuration &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-deploy-role","title":"ctp-deploy-role","text":"<p>Runs only the /srv//vm/ part of the playbook and then stops. This is a useful during role developing and or when you want to minimize the time it takes to configure something. For an example only reconfiguring the user accounts of the machine by using single_role with <code>clarified.core.accounts</code> role. <p>Example usage:</p> <ul> <li>Only runs the role for inventory_hostname and then stops the play can also be used against all or group_var</li> </ul> <pre><code>ctp-deploy-role &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Looks for role under <code>/srv/&lt;project_name&gt;/roles/&lt;role&gt;</code> and only runs it.</li> </ul> <pre><code>ctp-deploy-role &lt;inventory_hostname&gt; -e single_role=&lt;role&gt;\n</code></pre> <ul> <li>Looks for role with the fully qualified role name (FQCN) in the installed collections and only runs that and stops</li> </ul> <pre><code>ctp-deploy-role &lt;inventory_hostname&gt; -e single_role=&lt;role.fqcn&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-deploy-network","title":"ctp-deploy-network","text":"<p>Runs ctp-deploy and also includes networks configuration role</p> <p>Example usage:</p> <ul> <li>Deploys the VM with the given inventory_hostname and also configures the networks</li> </ul> <pre><code>ctp-deploy-network &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-deploy-fresh","title":"ctp-deploy-fresh","text":"<p>Runs deploy as it if the machine does not exist</p> <p>Example usage:</p> <ul> <li>Deploys the VM with the given inventory_hostname as if it didn't exist</li> </ul> <pre><code>ctp-deploy-fresh &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-remove","title":"ctp-remove","text":"<p>Destroys the existing VM</p> <p>Example usage:</p> <ul> <li>Destroys the VM with the given inventory_hostname</li> </ul> <pre><code>ctp-remove &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-rebuild-linode-vm","title":"ctp-rebuild-linode-vm","text":"<p>Rebuilds the existing Linode VM with a new disk but keeps the existing IP</p> <p>Example usage:</p> <ul> <li>Rebuilds the VM with the given inventory_hostname</li> </ul> <pre><code>ctp-rebuild-linode-vm &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#deploy-commands-based-on-startretry-file","title":"Deploy commands based on @start.retry file","text":"<p>Whenever a deploy fails a start.retry file is created under /srv/inventories//start.retry. Instead of going trough the logs to find what machines failed you can use the following commands to deploy only the failed machines. Keep in mind that only that latest fail is written into the start.retry file so when running multiple instances of Catapult (using <code>make shell</code> multiple times) and multiple deploys in parallel the latest fail will be written into the start.retry file. <ul> <li>Run <code>ctp-deploy</code> on failed machines based on start.retry file</li> </ul> <pre><code>ctp-retry-deploy\n</code></pre> <ul> <li>Run <code>ctp-redeploy</code> failed machines based on start.retry file</li> </ul> <pre><code>ctp-retry-redeploy\n</code></pre> <ul> <li>Runs <code>ctp-redeploy-until-configuration</code> on failed machines based on start.retry file</li> </ul> <pre><code>ctp-retry-redeploy-until-configuration\n</code></pre> <ul> <li>Run <code>ctp-deploy-from-configuration</code> on failed machines based on start.retry file</li> </ul> <pre><code>ctp-retry-deploy-from-configuration\n</code></pre> <ul> <li>Run <code>ctp-deploy-role</code> on failed machines based on start.retry file</li> </ul> <pre><code>ctp-retry-deploy-role\n</code></pre>"},{"location":"catapult/02-how-to-use/#snapshot-modes","title":"Snapshot modes","text":"<p>Different commands for managing machine snapshots. Note that the commands might not work with all providers. In that case you will receive a message that the command not implemented for the provider.</p>"},{"location":"catapult/02-how-to-use/#ctp-snapshot","title":"ctp-snapshot","text":"<p>Create a snapshot of the VM</p> <p>Example usage:</p> <ul> <li>Creates a snapshot of the VM for the given inventory_hostname with the default snapshot name</li> </ul> <pre><code>ctp-snapshot &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Creates a snapshot of the VM for the given inventory_hostname with the given snapshot name</li> </ul> <pre><code>ctp-snapshot &lt;inventory_hostname&gt; -e snapshot_name=&lt;snapshot_name&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-clean-snapshot","title":"ctp-clean-snapshot","text":"<p>Remove all existing snapshots and create a new snapshot of the VM</p> <p>Example usage:</p> <ul> <li>Removes all existing snapshots and creates a new snapshot of the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-clean-snapshot &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Removes all existing snapshots and creates a new snapshot of the VM for the given inventory_hostname with the given snapshot name</li> </ul> <pre><code>ctp-clean-snapshot &lt;inventory_hostname&gt; -e snapshot_name=&lt;snapshot_name&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-live-snapshot","title":"ctp-live-snapshot","text":"<p>Creates a snapshot of a running machine including memory, mostly applicable to VMware products</p> <p>Example usage:</p> <ul> <li>Creates a live snapshot of the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-live-snapshot &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Creates a live snapshot of the VM for the given inventory_hostname with the given snapshot name</li> </ul> <pre><code>ctp-live-snapshot &lt;inventory_hostname&gt; -e snapshot_name=&lt;snapshot_name&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-revert","title":"ctp-revert","text":"<p>Revert to the latest default snapshot or to the given snapshot name</p> <p>Example usage:</p> <ul> <li>Reverts the VM for the given inventory_hostname to the latest default snapshot</li> </ul> <pre><code>ctp-revert &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Reverts the VM for the given inventory_hostname to the given snapshot name</li> </ul> <pre><code>ctp-revert &lt;inventory_hostname&gt; -e snapshot_name=&lt;snapshot_name&gt;\n\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-remove-snapshot","title":"ctp-remove-snapshot","text":"<p>Removing snapshot, requires -e snapshot_name=snapshot_name_to_remove</p> <p>Example usage:</p> <ul> <li>Removes the snapshot for the given inventory_hostname</li> </ul> <pre><code>ctp-remove-snapshot &lt;inventory_hostname&gt; -e snapshot_name=snapshot_name_to_remove\n</code></pre> <ul> <li>Removes all snapshots for the given inventory_hostname</li> </ul> <pre><code>ctp-remove-snapshot &lt;inventory_hostname&gt; -e remove_all_snapshots=true\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-rename-snapshot","title":"ctp-rename-snapshot","text":"<p>Renaming snapshot, requires -e snapshot_name=existing_snapshot_name_to_rename -e new_snapshot_name=new_snapshot_name</p> <p>Example usage:</p> <ul> <li>Renames the snapshot for given inventory_hostname machine</li> </ul> <pre><code>ctp-rename-snapshot &lt;inventory_hostname&gt; -e snapshot_name=existing_snapshot_name_to_rename -e new_snapshot_name=new_snapshot_name\n</code></pre>"},{"location":"catapult/02-how-to-use/#power-state","title":"Power state","text":"<p>These commands are for managing the power state of the VMs. Without connection to them over SSH. For an example using VMTools on VMware products.</p>"},{"location":"catapult/02-how-to-use/#ctp-poweron","title":"ctp-poweron","text":"<p>Power on VM</p>"},{"location":"catapult/02-how-to-use/#ctp-restart","title":"ctp-restart","text":"<p>Restart VM</p>"},{"location":"catapult/02-how-to-use/#ctp-shutdown","title":"ctp-shutdown","text":"<p>Shut down VM (graceful shutdown)</p>"},{"location":"catapult/02-how-to-use/#ctp-poweroff","title":"ctp-poweroff","text":"<p>Power off VM (ungraceful shutdown)</p>"},{"location":"catapult/02-how-to-use/#ctp-reset","title":"ctp-reset","text":"<p>Reset VM (very ungraceful)</p> <p>Example usage:</p> <ul> <li>Powers on the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-poweron &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Restarts the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-restart &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Shuts down the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-shutdown &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Powers off the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-poweroff &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Resets the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-reset &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#misc-commands","title":"MISC commands","text":""},{"location":"catapult/02-how-to-use/#ctp-update-os","title":"ctp-update-os","text":"<p>Runs only the clarified.core.updates role on the given targets. Useful for only updating the OS packages.</p> <p>Example usage:</p> <ul> <li>Updates the OS packages for the given inventory_hostname</li> </ul> <pre><code>ctp-update-os &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-list","title":"ctp-list","text":"<p>List the inventory_hostnames for the given project, group_var or just to check if the inventory_hostname is valid. This command is useful to use a a pre-check before running any of the other commands. You can make sure that your advanced regex is correct and you don't run the command on the wrong inventory_hostname.</p> <p>Example usage:</p> <ul> <li>Checks if the inventory_hostnames exists</li> </ul> <pre><code>ctp-list &lt;inventory_hostname&gt;\n</code></pre> <ul> <li>Lists all of the inventory_hostnames for the given project</li> </ul> <pre><code>ctp-list all\n</code></pre> <ul> <li>Lists all of the inventory_hostnames for the given group_var</li> </ul> <pre><code>ctp-list &lt;group_var&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-list-vars","title":"ctp-list-vars","text":"<p>List (most) of the variables for the given inventory_hostname. This command is useful to check what variables are available in the given inventory_hostname. It is not a complete list of all the variables because of home some host_vars get loaded but it's useful when getting started with the role development.</p> <p>Example usage:</p> <ul> <li>Lists the variables for the given inventory_hostname</li> </ul> <pre><code>ctp-list-vars &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-rename-vm","title":"ctp-rename-vm","text":"<p>Renaming VM. This command is useful when the naming scheme for the VMs has changed and you want to rename some or all of them for the project.</p> <p>Example usage:</p> <ul> <li>Renames the VM for the given inventory_hostname with the given values</li> </ul> <pre><code>ctp-rename-vm &lt;inventory_hostname&gt; -e old_vm_name=&lt;old_name&gt; -e new_vm_name=&lt;new_name&gt;\n</code></pre> <ul> <li>Renames the VM for the given inventory_hostname where the old name is the current value defined in</li> </ul> <pre><code>cpp-rename-vm &lt;inventory_hostname&gt; -e new_vm_name=&lt;new_name&gt;the group or host vars\n</code></pre>"},{"location":"catapult/02-how-to-use/#ctp-get-ip","title":"ctp-get-ip","text":"<p>Getting the IP's and FQDN of the VM</p> <p>Example usage:</p> <ul> <li>Gets the IP's and FQDN of the VM for the given inventory_hostname</li> </ul> <pre><code>ctp-get-ip &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"catapult/03-template-requirements/","title":"VM Template Requirements","text":"<p>When using Catapult with a cloud provider you can just use the VM templates provided by the cloud provider. When using Catapult in your own private cloud you need to make sure that the VM templates your create are compatible with Catapult.</p> <p>One really good tool for template generation is Packer. Packer can be used to create base images for all major cloud providers and also for local virtualization solutions like VirtualBox or VMWare. We recommend using Packer or manually creating base images for yourself and then using Catapult to create per-environment/project/datacenter etc. VM templates from those base images.</p>"},{"location":"catapult/03-template-requirements/#base-template-requirements","title":"Base template requirements","text":""},{"location":"catapult/03-template-requirements/#windows","title":"Windows","text":"<ul> <li> <p>Latest stable OpenSSH installed and running -- Catapult does all of its work over SSH. Don't use the built-in Windows SSH server it's versions are different per OS version and you will start getting random connection errors.</p> </li> <li> <p><code>MaxAuthTries</code> set to <code>20</code> in <code>C:/ProgramData/ssh/sshd_config</code> -- A lot of users will have more than 6 keys in their SSH agent and the default <code>MaxAuthTries</code> of 6 will cause Catapult to fail to connect to the VM. The value must not be 20 but it most likely must be higher than 6.</p> </li> <li> <p>(Optional) Chocolatey installed -- It's not a hard requirement but it's really useful to have Chocolatey installed on your Windows VMs. Catapult can use Chocolatey to install the required software on the VMs. Chocolatey can also be used to install the OpenSSH server on the base template with <code>choco install openssh -params /SSHServerFeature -y</code></p> </li> </ul>"},{"location":"catapult/03-template-requirements/#linux","title":"Linux","text":"<ul> <li> <p>SSH server installed and running -- Catapult does all of its work over SSH.</p> </li> <li> <p><code>MaxAuthTries</code> set to <code>20</code> in <code>/etc/ssh/sshd_config</code> -- Same as with Windows.</p> </li> <li> <p><code>PermitRootLogin</code> set to <code>yes</code> in <code>/etc/ssh/sshd_config</code> -- Catapult needs to be able to login as root to the VMs the first time. After that Catapult can be used to create new accounts and disable root login.</p> </li> </ul>"},{"location":"catapult/90-set-up-keepass/","title":"KeePassXC setup","text":""},{"location":"catapult/90-set-up-keepass/#installation","title":"Installation","text":"<p>Catapult uses KeePassXC to store your personal secrets. Keepass is needed to store your LDAP/AD credentials, your personal API keys, your SSH keypairs etc. Catapult will not work without a KeePass database.</p> <p>Follow these steps to set up your KeePass database:</p> <ul> <li>Install KeePassXC on your computer, it's available for all major platforms, just check your package manager or download it directly from the KeePassXC website.</li> <li>Run the KeePassXC application and create a new database.</li> <li>When you get to the <code>Database Credentials</code> part make sure to add a password and also click the <code>Add additional protection...</code> button and generate a key file and save it in your host.</li> <li>As a final step also save your database file to your host.</li> <li>When unlocking your database make sure to also point the the generated key file.</li> </ul>"},{"location":"catapult/91-generate-ssh-keypair/","title":"Generate SSH keys","text":"<p>Catapult works by mounting your host ssh agent into the container. This means that you need to have your ssh keys in your host ssh agent. Here is a good guide on how to generate SSH keys and add them to your ssh agent.</p>"},{"location":"catapult/92-contributing/","title":"Contributing guidelines","text":"<p>When seeking to contribute to this project, please keep the following in mind:</p> <ul> <li> <p>When something is is not working as expected and you don't know how to fix it, please open an issue. The project(s) are under active development and we might miss something but will try to fix all of the issues we are aware of.</p> </li> <li> <p>When you see something that could be improved and you know how to do it you can create fork of the project, make the required changes and create a pull request. We might not accept all pull requests, or we might ask you to make some changes before we do. This is not a reflection on you as a developer, but rather a reflection on the direction of the project.</p> </li> <li> <p>When committing code, please make it in small, logical chunks. This makes it easier for us to review and accept your changes. Also make sure that your commit messages are clear and concise. The goal of the commit messages is to create a readable changelog. The commit messages must contain the following three components:</p> </li> <li>What was changed</li> <li>Where it was changes</li> <li>Why it was changed (when applicable)</li> </ul> <p>Examples:</p> <ul> <li> <p>Updated the default Ansible version in pyproject.toml file.</p> </li> <li> <p>Updated the docker-entrypoint.sh script to avoid race condition for certificate updates.</p> </li> </ul>"},{"location":"catapult-customizer/","title":"Catapult Customizer Example","text":"<p>This is an example repo to show how to Customize Catapult for your organization's or project's needs. To use this repo you need to create your own Git project (in a Git server of your choice) and then fill it out with the examples shown here. After that is done fill out <code>MAKEVAR_CATAPULT_CUSTOMIZER_REPO</code> in your Catapult's <code>.makerc-vars</code> file to include the customizations.</p> <p>DELETE ALL CUSTOMIZATION FOLDER AND FILE EXAMPLES THAT YOU WILL NOT BE USING - Otherwise empty folder will be included overriding the default files.</p> <p>The structure of the customization repo is as follows:</p>"},{"location":"catapult-customizer/#folders","title":"Folders","text":"<ul> <li> <p><code>certificates</code> - Contains the trusted certificate files that will be installed into the container. The certificate format must be base64 and the file name format must be .crt <li> <p><code>container</code> - Contains .custom_aliases file that will be copied into the container. Refer to the .default_aliases file as an example on how to create .custom_aliases.</p> </li> <li> <p><code>docker</code> - Contains custom docker-compose-extra.yml to add extra environment variables to the container. Refer to the default docker-compose-extra.yml for an example.</p> </li> <li> <p><code>docker-entrypoints</code> - Contains custom docker-entrypoint scripts that will run inside the container during startup and <code>make shell</code>. Refer to default entrypoint scripts for examples.</p> </li> <li> <p><code>makefiles</code> - Contains custom .makerc* files specific to your organization or project. Refer to the default .makerc file for examples and the Makefile for different types of makefiles that get loaded if they exists.</p> </li> <li> <p><code>poetry</code> - Contains custom pyroject.toml and poetry.lock files that will be used to install the Python dependencies when building your own image. Refer to the defaults pyproject.toml for examples.</p> </li> <li> <p><code>requirements</code> - Contains different *.yml files that will be used to install the Ansible roles and collections. Refer to Ansible docs or default requirements for how-to guide or examples.</p> </li> <li> <p><code>scripts</code> - Contains custom scripts that will be used with the project.</p> </li> <li> <p><code>start-tasks</code> - Contains scripts that will be run on the host during container startup. Refer to existing start-tasks for examples.</p> </li>"},{"location":"catapult-customizer/#files","title":"Files","text":"<ul> <li> <p><code>example.makerc-vars</code> - When using non-default .makerc-vars then make sure that `example.makerc-vars is also defined in the Catapult Customizer repo because there are helper scripts that will check if your .makerc-vars contains all of the variables based on the example.makerc-vars.</p> </li> <li> <p><code>start.yml</code> - In some rare cases you might want to customize the deployment tree of Catapult. For that you can create your own start.yml file and it will be used instead of the default one. Refer to the default start.yml as an example.</p> </li> </ul>"},{"location":"clarified-core-collection/accounts/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/accounts/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/accounts/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/accounts/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/accounts/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/accounts/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/accounts/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/cleanup/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/cleanup/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/cleanup/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/cleanup/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/cleanup/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/cleanup/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/cleanup/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/configure_networking/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/configure_networking/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/configure_networking/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/configure_networking/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/configure_networking/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/configure_networking/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/configure_networking/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/connection/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/connection/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/connection/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/connection/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/connection/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/connection/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/connection/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/create/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/create/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/create/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/create/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/create/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/create/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/create/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/customization/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/customization/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/customization/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/customization/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/customization/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/customization/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/customization/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/customization_post_vm_role/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/customization_post_vm_role/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/customization_post_vm_role/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/customization_post_vm_role/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/customization_post_vm_role/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/customization_post_vm_role/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/customization_post_vm_role/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/customization_pre_role/","title":"customization_pre_role","text":"<p>This role gets loaded in start.yml before any connection is made to the Ansible inventory host. It can be used include roles that interact with different services or APIs directly from the Catapult container. It'll first check if a role name matching <code>pre_role</code> variable exists in <code>{{ inventory_dir }}/roles</code> and includes it. If no role exits it'll try to include the role based on the FQCN defined in <code>pre_role</code> variable. After the include role is complete the play stops.</p>"},{"location":"clarified-core-collection/customization_pre_role/#requirements","title":"Requirements","text":"<p><code>pre_role</code> variable must be defined</p>"},{"location":"clarified-core-collection/customization_pre_role/#role-variables","title":"Role Variables","text":"<p><code>pre_role</code> - role name in <code>{{ inventory_dir }}/roles</code> or role FQCN to be included.</p>"},{"location":"clarified-core-collection/customization_pre_role/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/customization_pre_role/#example","title":"Example","text":"<p>Example on how the <code>pre_role</code> can be used to build snapshot aliases for Catapult</p>"},{"location":"clarified-core-collection/customization_pre_role/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/customization_pre_vm_role/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/customization_pre_vm_role/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/customization_single_role/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/customization_single_role/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/customization_single_role/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/customization_single_role/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/customization_single_role/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/customization_single_role/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/customization_single_role/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/deploy_vars/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/deploy_vars/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/deploy_vars/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/deploy_vars/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/deploy_vars/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/deploy_vars/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/deploy_vars/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/finalize/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/finalize/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/finalize/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/finalize/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/finalize/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/finalize/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/finalize/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/generate_credentials/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/generate_credentials/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/generate_credentials/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/generate_credentials/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/generate_credentials/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/generate_credentials/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/generate_credentials/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/get_ip/","title":"get_ip","text":"<p>This role will look up the IP addresses (IPv4 &amp; IPv6) and FQDN of an Ansible inventory host and print them out.</p>"},{"location":"clarified-core-collection/get_ip/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/get_ip/#role-variables","title":"Role Variables","text":"<p>None</p>"},{"location":"clarified-core-collection/get_ip/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/get_ip/#example","title":"Example","text":"<pre><code># Include the role\n- name: Get IP address of host\n  ansible.builtin.include_role:\n    name: clarified.core.get_ip\n</code></pre> <pre><code># Include the role in meta\n---\n- dependencies:\n    - role: clarified.core.get_ip\n</code></pre> <pre><code># Use the alias in Catapult\nctp-get-ip &lt;inventory_hostname&gt;\n</code></pre>"},{"location":"clarified-core-collection/get_ip/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/linux_xrdp_keyboard/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/linux_xrdp_server/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/linux_xrdp_server/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/linux_xrdp_server/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/linux_xrdp_server/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/linux_xrdp_server/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/linux_xrdp_server/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/linux_xrdp_server/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/os_configuration/","title":"Role Name","text":"<p>This is a universal role that is included in start.yml. It is used to run different general operating system configuration tasks. Such as configuring hostname, activation etc.</p>"},{"location":"clarified-core-collection/os_configuration/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/os_configuration/#role-variables","title":"Role Variables","text":"<p>Refer to defaults/main.yml for the full list of variables.</p>"},{"location":"clarified-core-collection/os_configuration/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/os_configuration/#example","title":"Example","text":"<p>Since this role already gets included in <code>start.yml</code> there is no need to include it in your playbook. However, if you want to run it separately, you can do so with:</p> <pre><code>- name: Including os_configuration role\n  include_role:\n    name: clarified.core.os_configuration\n</code></pre>"},{"location":"clarified-core-collection/powerstate/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/powerstate/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/powerstate/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/powerstate/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/powerstate/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/powerstate/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/powerstate/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/rename_vm/","title":"rename_vm","text":"<p>Role for renaming existing VMs, useful for bulk rename.</p>"},{"location":"clarified-core-collection/rename_vm/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/rename_vm/#role-variables","title":"Role Variables","text":"<p><code>old_vm_name</code> - The current name of the VM to be renamed. <code>new_vm_name</code> - The new name of the VM to be renamed.</p>"},{"location":"clarified-core-collection/rename_vm/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/rename_vm/#example","title":"Example","text":"<pre><code># Rename single VM from Catapult command line\n# Looks up the current VM name and renames it to the new name\nctp-rename-vm &lt;inventory_hostname&gt; -e new_vm_name=&lt;new_vm_name&gt;\n</code></pre> <pre><code>- name: Name of the task\n  ansible.builtin.include_role:\n    name: clarified.core.rename_vm\n  vars:\n    new_vm_name: &lt;new_vm_name&gt; # Can use variable from group vars to template the new name format for bulk rename\n</code></pre>"},{"location":"clarified-core-collection/save_secrets/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/save_secrets/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/save_secrets/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/save_secrets/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/save_secrets/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/save_secrets/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/save_secrets/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/snapshots/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/snapshots/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/snapshots/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/snapshots/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/snapshots/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/snapshots/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/snapshots/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/sysprep/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/sysprep/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/sysprep/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/sysprep/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/sysprep/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/sysprep/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/sysprep/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/template_os_configuration/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/template_os_configuration/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/template_os_configuration/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/template_os_configuration/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/template_os_configuration/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/template_os_configuration/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/template_os_configuration/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/updates/","title":"updates","text":"<p>This role is used to update the operating system packages. Currently supported operating systems are: Ubuntu/Debian, Windows &amp; Arch Linux.</p> <p>Debian family operating systems can be configured to run unattended updates, with additional option to allow unattended reboots if required.</p>"},{"location":"clarified-core-collection/updates/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/updates/#role-variables","title":"Role Variables","text":"<p>Refer to the defaults/main.yml file for a list of variables and their default values.</p>"},{"location":"clarified-core-collection/updates/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/updates/#example","title":"Example","text":"<pre><code># Use the existing Catapult CLI alias to only run this role for a specific host.\nctp-update-os &lt;inventpry_hostname&gt;\n</code></pre> <pre><code># Use the role in a playbook.\n- name: Update the operating system\n  ansible.builtin.include_role:\n    name: clarified.core.updates\n</code></pre>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/","title":"Role Name","text":"<p>COMING SOON A brief description of the role goes here.</p>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#requirements","title":"Requirements","text":"<p>COMING SOON Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. For instance, if the role uses the EC2 module, it may be a good idea to mention in this section that the boto package is required.</p>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#role-variables","title":"Role Variables","text":"<p>COMING SOON A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well.</p>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#dependencies","title":"Dependencies","text":"<p>COMING SOON A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles.</p>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#example-playbook","title":"Example Playbook","text":"<p>COMING SOON Including an example of how to use your role (for instance, with variables passed in as parameters) is always nice for users too:</p> <pre><code>- hosts: servers\n  roles:\n     - { role: username.rolename, x: 42 }\n</code></pre>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#license","title":"License","text":"<p>AGPL-3.0-or-later</p>"},{"location":"clarified-core-collection/vcenter_vmtools_policy/#author-information","title":"Author Information","text":"<p>COMING SOON An optional section for the role authors to include contact information, or a website (HTML is not allowed).</p>"},{"location":"clarified-core-collection/win_configure_rdp/","title":"win_configure_rdp","text":"<p>Role for enabling or disabling RDP on Windows hosts.</p>"},{"location":"clarified-core-collection/win_configure_rdp/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/win_configure_rdp/#role-variables","title":"Role Variables","text":"<p>Check the <code>defaults/main.yml</code> file for the full list of variables.</p>"},{"location":"clarified-core-collection/win_configure_rdp/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/win_configure_rdp/#example","title":"Example","text":"<pre><code># Include the role in tasks\n- name: Name of the task\n  ansible.builtin.include_role:\n    name: clarified.core.win_configure_rdp\n</code></pre> <pre><code># Include the role in meta\n---\n- dependencies:\n    - role: clarified.core.win_configure_rdp\n</code></pre>"},{"location":"clarified-core-collection/win_dc_post_reboot_check/","title":"win_dc_post_reboot_check","text":"<p>Role for waiting for Windows Domain Controller to be ready after reboot. Useful to include in playbooks after DC reboot to avoid errors where Ansible tries to configure DC before it is ready.</p>"},{"location":"clarified-core-collection/win_dc_post_reboot_check/#requirements","title":"Requirements","text":"<p>None</p>"},{"location":"clarified-core-collection/win_dc_post_reboot_check/#role-variables","title":"Role Variables","text":"<p>None</p>"},{"location":"clarified-core-collection/win_dc_post_reboot_check/#dependencies","title":"Dependencies","text":"<p>None</p>"},{"location":"clarified-core-collection/win_dc_post_reboot_check/#example","title":"Example","text":"<pre><code># Include the role in tasks\n- name: Name of the task\n  ansible.builtin.include_role:\n    name: clarified.core.win_dc_post_reboot_check\n</code></pre> <pre><code># Include the role in meta\n---\n- dependencies:\n    - role: clarified.core.win_dc_post_reboot_check\n</code></pre>"}]}